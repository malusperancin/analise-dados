labs(title = "Ventos nos meses do ano de 2015",
x="Meses",
y="Velocidade(Km/h)") +
meu_tema
plot31
plot32 <- ggplot(h2018,aes(x=meses2018,y=vento,group=meses2018,fill=meses2018)) +
geom_boxplot(show.legend = FALSE) +
labs(title = "Ventos nos meses do ano de 2018",
x="Meses",
y="Velocidade(Km/h)") +
meu_tema
plot32
#VENTO UMIDADE E TEMPERATURA usando ggMarginal
plot4 <- ggplot(dados, aes(x=temperatura, y=vento, color=umidade)) +
geom_point() +
labs(fill= 'Umidade(g/Kg)',
title="Registros da umidade de acordo a relação \nentre temperatura e vento",
x="Temperatura(Cº)",
y="Vento(Km/h)") +
meu_tema
plot4 <- ggMarginal(plot4, type="histogram")
plot4
#UMIDADE POR ANOS usando boxplot
plot5 <- ggplot(dados, aes(x=anos, y=umidade, group=anos, fill=anos)) +
geom_boxplot(show.legend = FALSE) +
labs(fill= 'Umidade(g/Kg)',
title="Registros de umidade entre os anos de 2015 e 2020",
x="Anos",
y="Umidade(g/Kg)") +
meu_tema
plot5
#UMIDADE POR ANOS usando boxplot
plot5 <- ggplot(dados, aes(x=anos, y=umidade, group=anos, fill=anos)) +
geom_boxplot(show.legend = FALSE) +
labs(fill= 'Umidade(g/Kg)',
title="Registros de umidade entre os anos de 2015 a 2020",
x="Anos",
y="Umidade(g/Kg)") +
meu_tema
plot5
#UMIDADE EM 2018 usando boxplot
plot6 <- ggplot(h2018, aes(y=umidade, x=meses2018, group=meses2018,fill=meses2018)) +
geom_boxplot(show.legend = FALSE) +
labs(title="Registros da umidade no ano de 2018",
x="Meses",
y="Umidade(g/Kg)") +
meu_tema
plot6
# Tabela comparativa de umidade entre 2018 e 2015
tabelaUmidade <- cbind(h2015$umidade, h2018$umidade)
colnames(tabelaUmidade) <- c("Umidade/2015", "Umidade/2018")
write.xlsx(tabelaUmidade,file="tabelaUmidade2015_2018.xlsx")
tabelaUmidade
# Tabela comparativa de umidade entre 2018 e 2015
tabelaUmidade <- cbind(h2015$umidade, h2018$umidade)
colnames(tabelaUmidade) <- c("Umidade/2015", "Umidade/2018")
write.xlsx(tabelaUmidade,file="tabelaUmidade2015_2018.xlsx")
tabelaUmidade
outubro2015 <- dados[dados[["horario"]] >= "2015-09-01" & dados[["horario"]] < "2015-11-01",]
outubro2018 <- dados[dados[["horario"]] >= "2018-09-01" & dados[["horario"]] < "2018-11-01",]
outubro2015$horario <- as.Date(outubro2015$horario)
outubro2015 <- dados[dados[["horario"]] >= "2015-09-01" & dados[["horario"]] < "2015-11-01",]
outubro2018 <- dados[dados[["horario"]] >= "2018-09-01" & dados[["horario"]] < "2018-11-01",]
outubro2015$horario <- as.Date(outubro2015$horario)
outubro2018$horario <- as.Date(outubro2018$horario)
max_2015 <- outubro2015 %>% group_by(horario) %>% summarise(vento=max(vento))
max_2018 <- outubro2018 %>% group_by(horario) %>% summarise(vento=max(vento))
tabela_vento_2015_2018 <- cbind(format(as.Date(max_2015$horario), "%d/%m/%Y"), max_2015$vento, max_2018$vento)
colnames(tabela_vento_2015_2018) <- c("Data", "Máximas/2015", "Máximas2018")
View(tabela_vento_2015_2018)
write.xlsx(tabela_vento_2015_2018,file="tabelaVento2015_2018.xlsx")
write.xlsx(tabela_vento_2015_2018,file="tabelaVento2015_2018.xlsx")
tabela_vento_2015_2018
tabela_vento_2015_2018 <- cbind(format(as.Date(max_2015$horario), "%d/%m/%Y"), max_2015$vento, max_2018$vento)
colnames(tabela_vento_2015_2018) <- c("Data", "Maximas_2015", "Maximas_2018")
write.xlsx(tabela_vento_2015_2018,file="tabelaVento2015_2018.xlsx")
tabela_vento_2015_2018
as.Date(umidade_anos$horario)
umidade_anos <- dados
as.Date(umidade_anos$horario)
format(as.Date(umidade_anos$horario), "%Y")
umidade_anos <- umidade_anos %>% group_by(umidade_anos$horario) %>% summarise(2015=mean(horario=="2015"))
umidade_anos <- umidade_anos %>% group_by(horario) %>% summarise(2015=mean(horario=="2015"))
umidade_anos <- umidade_anos %>% group_by(horario) %>% summarise("2015"=mean(horario=="2015"))
umidade_anos <- umidade_anos %>% group_by(horario) %>%
filter(horario=="2015") %>%
summarise(2015=mean(umidade))
umidade_anos <- umidade_anos %>% group_by(horario) %>%
filter(horario==2015) %>%
summarise(2015=mean(umidade))
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
umidade_anos <- umidade_anos %>% group_by(horario) %>%
filter(horario==2015) %>%
summarise(2015=mean(umidade))
umidade_anos <- umidade_anos %>% group_by(horario) %>%
filter(horario==2015) %>%
summarise(ano2015=mean(umidade))
umidade_anos
umidade_anos <- aggregate(umidade_anos,
by = list(umidade_anos$horario),
FUN = mean)
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
umidade_anos <- aggregate(umidade_anos,
by = list(umidade_anos$horario),
FUN = mean)
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
umidade_anos <- umidade_anos %>% group_by(horario)
umidade_anos
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
umidade_anos <- umidade_anos %>% group_by(horario) %>%
summarise(ano2015=mean(umidade))
umidade_anos
max_2015 <- outubro2015 %>% group_by(horario) %>% summarise(vento=max(vento))
max_2018 <- outubro2018 %>% group_by(horario) %>% summarise(vento=max(vento))
tabela_vento_2015_2018 <- cbind(format(as.Date(max_2015$horario), "%d/%m"), max_2015$vento, max_2018$vento)
colnames(tabela_vento_2015_2018) <- c("Data", "Maximas.2015", "Maximas.2018")
write.xlsx(tabela_vento_2015_2018,file="tabelaVento2015_2018.xlsx")
tabela_vento_2015_2018
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
umidade_anos <- umidade_anos %>% group_by(horario) %>%
summarise(media_umidade=mean(umidade))
colnames(umidade_anos) <- c("Ano", "Média")
write.xlsx(tabela_vento_2015_2018,file="tabelaVento2015_2018.xlsx")
tabela_vento_2015_2018
umidade_anos
write.xlsx(umidade_anos,file="tabelaUmidade2015_2020.xlsx")
umidade_anos
colnames(umidade_anos) <- c("Ano", "Media.Umidade")
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
umidade_anos <- umidade_anos %>% group_by(horario) %>%
summarise(media_umidade=mean(umidade))
umidade_anos
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
umidade_anos
dados$horario == "2019"
dados[dados$horario == "2019"]
umidade_anos$horario == "2019"
umidade_anos[umidade_anos$horario == "2019"]
umidade_anos[umidade_anos$horario == "2019",]
count(umidade_anos[umidade_anos$horario == "2019",])
teste <- umidade_anos[umidade_anos$horario == "2019",]
View(teste)
mean(teste$umidade)
na.omit(teste$umidade)
mean(teste$umidade)
teste <- umidade_anos[umidade_anos$horario == "2019",]
mean(teste$umidade)
na.omit(teste$umidade)
rm(list=ls())
titulos <- c("horario", "temperatura", "vento", "umidade", "sensacao")
#pegamos o dado no arquivo e colocamos no data frame
cepagri <- read.csv("cepagri.csv", header = FALSE, sep = ";", col.names = titulos)
#convertemos e formatamos a data para POSIXct
cepagri[["horario"]] <- as.POSIXct(cepagri[["horario"]], format="%d/%m/%Y-%H:%M")
#pegamos os dados entre 01/01/2015 e 31/12/2020
cepagri <- cepagri[cepagri[["horario"]] >= "2015-01-01" & cepagri[["horario"]] <= "2020-12-31",]
#tiramos os dados que possuem erro/null
cepagri <- na.omit(cepagri)
#transformamos a temp em numeric (os outros campos ja ta)
cepagri[["temperatura"]] <- as.numeric(cepagri[["temperatura"]])
for(i in 1:nrow(cepagri)){
if(cepagri$sensacao[i] >= 99.9)
{
cepagri$sensacao[i] <- mean(c( cepagri$sensacao[i-1], cepagri$sensacao[i+1]))
}
if(cepagri$umidade[i] == 0)
{
#faz uma media de todos os indices de umidade do dia
cepagri$umidade[i] <- mean(cepagri$umidade[cepagri$horario >= cepagri$horario[i-1] & cepagri$horario < cepagri$horario[i]])
}
}
dados <- cepagri #dados prontos
meses <- factor(month.abb[as.integer(format(as.Date(dados[["horario"]]),"%m"))], levels = month.abb, ordered = TRUE)
anos <- factor(as.integer(format(as.Date(dados[["horario"]]),"%Y")), levels = c(2015:2020), ordered = TRUE)
h2018 <- dados[dados[["horario"]] > "2017-12-31" & dados[["horario"]] <= "2018-12-31",]
meses2018 <- factor(month.abb[as.integer(format(as.Date(h2018[["horario"]]),"%m"))], levels = month.abb, ordered = TRUE)
h2015 <- dados[dados[["horario"]] >= "2015-01-01" & dados[["horario"]] <= "2015-12-31",]
meses2015 <- factor(month.abb[as.integer(format(as.Date(h2015[["horario"]]),"%m"))], levels = month.abb, ordered = TRUE)
# Tema que será usado em cada gráfico
meu_tema = theme_bw() +
theme(plot.title = element_text(hjust = 0, size = 18),
axis.title = element_text(hjust = 0.5, size = 11),
axis.text = element_text(size = 10))
#TEMPERATURA POR HORARIO usando geom_line
plot1 <- ggplot(dados, aes(y=temperatura, x=horario, colour=temperatura)) +
geom_line() +
labs(fill='Temperatura em Cº',
title="Temperaturas entre os anos de 2015 e 2020",
x="Anos",
y="Temperatura") +
meu_tema
rm(plot1)
View(meu_tema)
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
count(umidade_anos[umidade_anos$horario == "2019",])
teste <- umidade_anos[umidade_anos$horario == "2019",]
teste$umidade <- na.omit(teste$umidade)
teste <- na.omit(teste)
teste
count(teste)
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
umidade_anos[umidade_anos$umidade == NaN,]
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
count(umidade_anos[umidade_anos$umidade == NaN,])
teste <- umidade_anos[umidade_anos$umidade.is(NaN),]
umidade_anos[umidade_anos$umidade.is(NaN),]
count(umidade_anos[umidade_anos$horario == "2019",])
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
umidade_anos[umidade_anos$horario == "2019",]
teste$umidade
teste$umidade.is(NaN)
teste <- umidade_anos[teste$umidade.is(NaN) == TRUE,]
teste$umidade.is(NaN)
teste[teste$umidade.is(NaN),]
teste <- teste[teste$umidade == NaN,]
teste
teste <- umidade_anos[umidade_anos$horario == "2019",]
teste
teste$umidade.is(NaN)
teste <- umidade_anos[umidade_anos$horario == "2019",]
teste
teste <- teste[teste$umidade == "NaN"]
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
teste <- umidade_anos[umidade_anos$horario == "2019",]
teste <- teste[teste$umidade == "NaN"]
teste <- teste[teste$umidade == "Na"]
teste
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
teste <- umidade_anos[umidade_anos$horario == "2019",]
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
teste <- umidade_anos[umidade_anos$horario == "2019",]
teste <- teste[is.na(teste$umidade),]
teste
teste <- dados[is.na(dados$umidade),]
dados[is.na(dados$umidade),]
dados[is.na(dados$temperatura),]
dados[is.na(dados$pressao),]
dados[is.na(dados$vento),]
dados[is.na(dados$umidade),]
dados[dados$horario == "2019-06-20 9:10:00"]
dados[dados$horario == "2019-06-20 9:10:00",]
dados[dados$horario == "2019-06-20 8:50:00",]
dados[dados$horario == "2019-06-20 8:50:00",]
dados[grepl(dados$horario, "2019-06-20", fixed = TRUE)]
dados[grepl(dados$horario, "2019-06-20", fixed = TRUE)]
grepl(dados$horario, "2019-06-20", fixed = TRUE)
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
dados <- cepagri #dados prontos
# Tem umidade NA ainda
teste <- dados[!is.na(dados$umidade),]
mean(teste)
dados[!is.na(dados$umidade),]
dados[is.na(dados$umidade),]
teste[!is.na(teste$umidade),]
teste[is.na(teste$umidade),]
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
# Tem umidade NA ainda
umidade_anos <- umidade_anos[!is.na(umidade_anos$umidade),]
umidade_anos <- umidade_anos %>% group_by(horario) %>%
summarise(media_umidade=mean(umidade))
colnames(umidade_anos) <- c("Ano", "Media.Umidade")
write.xlsx(umidade_anos,file="tabelaUmidade2015_2020.xlsx")
umidade_anos
#UMIDADE POR ANOS usando boxplot
plot5 <- ggplot(dados, aes(x=anos, y=umidade, group=anos, fill=anos)) +
geom_boxplot(show.legend = FALSE) +
labs(fill= 'Umidade(g/Kg)',
title="Registros de umidade entre os anos de 2015 a 2020",
x="Anos",
y="Umidade(g/Kg)") +
meu_tema
plot5
#UMIDADE POR ANOS usando boxplot
plot5 <- ggplot(dados, aes(x=anos, y=umidade, group=anos, fill=anos)) +
geom_boxplot(show.legend = FALSE) +
labs(fill= 'Umidade(g/Kg)',
title="Registros de umidade entre os anos de 2015 e 2020",
x="Anos",
y="Umidade(g/Kg)") +
meu_tema
plot5
umidade_anos <- umidade_anos %>% group_by(horario) %>%
summarise(media_umidade=mean(umidade), media_temperatura=mean(temperatura))
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
# Tem umidade NA ainda
umidade_anos <- umidade_anos[!is.na(umidade_anos$umidade),]
umidade_anos <- umidade_anos %>% group_by(horario) %>%
summarise(media_umidade=mean(umidade), media_temperatura=mean(temperatura))
colnames(umidade_anos) <- c("Ano", "Media.Umidade", "Media.Temperatura")
write.xlsx(umidade_anos,file="tabelaUmidade2015_2020.xlsx")
umidade_anos
umidade_anos <- umidade_anos %>% group_by(horario) %>%
summarise(media_umidade=mean(umidade), media_temperatura=mean(temperatura), media_sensacao=mean(sensacao))
umidade_anos <- umidade_anos %>% group_by(horario) %>%
summarise(media_umidade=mean(umidade), media_temperatura=mean(temperatura), media_sensacao=mean(sensacao))
# Tem umidade NA ainda
umidade_anos <- umidade_anos[!is.na(umidade_anos$umidade),]
umidade_anos <- umidade_anos %>% group_by(horario) %>%
summarise(media_umidade=mean(umidade), media_temperatura=mean(temperatura), media_sensacao=mean(sensacao))
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
# Tem umidade NA ainda
umidade_anos <- umidade_anos[!is.na(umidade_anos$umidade),]
umidade_anos <- umidade_anos %>% group_by(horario) %>%
summarise(media_umidade=mean(umidade), media_temperatura=mean(temperatura), media_sensacao=mean(sensacao))
colnames(umidade_anos) <- c("Ano", "Media.Umidade", "Media.Temperatura", "Media.Sensacao")
write.xlsx(umidade_anos,file="tabelaUmidade2015_2020.xlsx")
umidade_anos
# Tabela comparativa de umidade entre 2015 e 2018
tabelaUmidade <- cbind(h2015$umidade, h2018$umidade)
colnames(tabelaUmidade) <- c("Umidade.2015", "Umidade.2018")
# Tabela comparativa de umidade entre 2015 e 2018
tabelaUmidade <- cbind(h2015$umidade, h2018$umidade)
colnames(tabelaUmidade) <- c("Umidade.2015", "Umidade.2018")
write.xlsx(tabelaUmidade,file="tabelaUmidade2015_2018.xlsx")
tabelaUmidade
View(tabelaUmidade)
media_dia_2015 <- h2015
media_dia_2018 <- h2018
media_dia_2018$horario <- format(as.Date(media_dia_2015$horario), "%d/%m")
media_dia_2015$horario <- format(as.Date(media_dia_2015$horario), "%d/%m")
media_dia_2015 <- media_dia_2015 %>% group_by(horario) %>% summarise(Umidade.2015=mean(umidade))
media_dia_2015
media_dia_2018 <- media_dia_2018 %>% group_by(horario) %>% summarise(Umidade.2018=mean(umidade))
media_dia_2018
media_dia_2015 <- h2015
media_dia_2018 <- h2018
media_dia_2015$horario <- format(as.Date(media_dia_2015$horario), "%d/%m")
media_dia_2018$horario <- format(as.Date(media_dia_2018$horario), "%d/%m")
media_dia_2015 <- media_dia_2015 %>% group_by(horario) %>% summarise(Umidade.2015=mean(umidade))
media_dia_2018 <- media_dia_2018 %>% group_by(horario) %>% summarise(Umidade.2018=mean(umidade))
media_dia_2018
media_dia_2015 <- h2015
media_dia_2018 <- h2018
media_dia_2015$horario <- format(as.Date(media_dia_2015$horario), "%d/%m")
media_dia_2018$horario <- format(as.Date(media_dia_2018$horario), "%d/%m")
media_dia_2015 <- media_dia_2015 %>% group_by(horario) %>% summarise(umidade=mean(umidade))
media_dia_2018 <- media_dia_2018 %>% group_by(horario) %>% summarise(umidade=mean(umidade))
tabelaUmidade <- cbind(media_dia_2015$horario, media_dia_2015$umidade, media_dia_2018$umidade)
colnames(tabelaUmidade) <- c("Data", "Umidade.2015", "Umidade.2018")
write.xlsx(tabelaUmidade,file="tabelaUmidade2015_2018.xlsx")
tabelaUmidade
media_dia_2015 <- media_dia_2015 %>% group_by(horario) %>% summarise(umidade=mean(umidade))
media_dia_2018 <- media_dia_2018 %>% group_by(horario) %>% summarise(umidade=mean(umidade))
tabelaUmidade <- cbind(media_dia_2015$horario, format(round(media_dia_2015$umidade, 2), nsmall = 2), format(round(media_dia_2018$umidade, 2), nsmall = 2))
colnames(tabelaUmidade) <- c("Data", "Umidade.2015", "Umidade.2018")
write.xlsx(tabelaUmidade,file="tabelaUmidade2015_2018.xlsx")
tabelaUmidade
#TEMPERATURA POR HORARIO usando geom_line
plot1 <- ggplot(dados, aes(y=temperatura, x=horario, colour=temperatura)) +
geom_line() +
labs(fill='Temperatura em Cº',
title="Temperaturas entre os anos de 2015 e 2020",
x="Anos",
y="Temperatura") +
meu_tema
plot1
#TEMPERATURA POR HORARIO usando geom_line
plot1 <- ggplot(dados, aes(y=temperatura, x=horario, colour=temperatura)) +
geom_line() +
labs(fill='Temperatura em Cº',
title="Temperaturas entre os anos de 2015 e 2020",
x="Anos",
y="Temperatura(Cº)") +
meu_tema
plot1
#VENTO E SENSACAO usando geom_smooth
plot2 <- ggplot(dados, aes(x = sensacao, y = vento)) +
geom_smooth(method = "gam") +
labs(title="Relação entre vento e sensação térmica",
x="Sensação Térmica",
y="Vento(Km/h)") +
meu_tema
plot2
#VENTO POR MESES usando boxplot
plot3 <- ggplot(dados,aes(x=meses,y=vento,group=meses,fill=meses)) +
geom_boxplot(show.legend = FALSE) +
labs(title = "Ventos nos meses dos anos de 2015 até 2020",
x="Meses",
y="Velocidade(Km/h)") +
meu_tema
plot3
plot31 <- ggplot(h2015,aes(x=meses2015,y=vento,group=meses2015,fill=meses2015)) +
geom_boxplot(show.legend = FALSE) +
labs(title = "Ventos nos meses do ano de 2015",
x="Meses",
y="Velocidade(Km/h)") +
meu_tema
plot31
plot32 <- ggplot(h2018,aes(x=meses2018,y=vento,group=meses2018,fill=meses2018)) +
geom_boxplot(show.legend = FALSE) +
labs(title = "Ventos nos meses do ano de 2018",
x="Meses",
y="Velocidade(Km/h)") +
meu_tema
plot32
#VENTO UMIDADE E TEMPERATURA usando ggMarginal
plot4 <- ggplot(dados, aes(x=temperatura, y=vento, color=umidade)) +
geom_point() +
labs(fill= 'Umidade(g/Kg)',
title="Registros da umidade de acordo a relação \nentre temperatura e vento",
x="Temperatura(Cº)",
y="Vento(Km/h)") +
meu_tema
plot4 <- ggMarginal(plot4, type="histogram")
plot4
#VENTO UMIDADE E TEMPERATURA usando ggMarginal
plot4 <- ggplot(dados, aes(x=temperatura, y=vento, color=umidade)) +
geom_point() +
labs(fill= 'Umidade(g/Kg)',
title="Registros da umidade de acordo com a \nrelação entre temperatura e vento",
x="Temperatura(Cº)",
y="Vento(Km/h)") +
meu_tema
plot4 <- ggMarginal(plot4, type="histogram")
plot4
#UMIDADE POR ANOS usando boxplot
plot5 <- ggplot(dados, aes(x=anos, y=umidade, group=anos, fill=anos)) +
geom_boxplot(show.legend = FALSE) +
labs(fill= 'Umidade(g/Kg)',
title="Registros de umidade entre os anos de 2015 e 2020",
x="Anos",
y="Umidade(g/Kg)") +
meu_tema
plot5
#UMIDADE POR ANOS usando boxplot
plot5 <- ggplot(dados, aes(x=anos, y=umidade, group=anos, fill=anos)) +
geom_boxplot(show.legend = FALSE) +
labs(fill= 'Umidade(g/Kg)',
title="Registros de umidade do ar entre os anos de 2015 e 2020",
x="Anos",
y="Umidade(g/Kg)") +
meu_tema
plot5
umidade_anos <- dados
umidade_anos$horario <- format(as.Date(umidade_anos$horario), "%Y")
# Tem umidade NA ainda
umidade_anos <- umidade_anos[!is.na(umidade_anos$umidade),]
umidade_anos <- umidade_anos %>% group_by(horario) %>%
summarise(media_umidade=mean(umidade), media_temperatura=mean(temperatura), media_sensacao=mean(sensacao))
colnames(umidade_anos) <- c("Ano", "Media.Umidade", "Media.Temperatura", "Media.Sensacao")
write.xlsx(umidade_anos,file="tabelaUmidade2015_2020.xlsx")
umidade_anos
#UMIDADE EM 2018 usando boxplot
plot6 <- ggplot(h2018, aes(y=umidade, x=meses2018, group=meses2018,fill=meses2018)) +
geom_boxplot(show.legend = FALSE) +
labs(title="Registros da umidade no ano de 2018",
x="Meses",
y="Umidade(g/Kg)") +
meu_tema
plot6
#UMIDADE EM 2018 usando boxplot
plot6 <- ggplot(h2018, aes(y=umidade, x=meses2018, group=meses2018,fill=meses2018)) +
geom_boxplot(show.legend = FALSE) +
labs(title="Registros da umidade do ar no ano de 2018",
x="Meses",
y="Umidade(g/Kg)") +
meu_tema
plot6
media_dia_2015 <- h2015
media_dia_2018 <- h2018
media_dia_2015$horario <- format(as.Date(media_dia_2015$horario), "%d/%m")
media_dia_2018$horario <- format(as.Date(media_dia_2018$horario), "%d/%m")
media_dia_2015 <- media_dia_2015 %>% group_by(horario) %>% summarise(umidade=mean(umidade))
media_dia_2018 <- media_dia_2018 %>% group_by(horario) %>% summarise(umidade=mean(umidade))
tabelaUmidade <- cbind(media_dia_2015$horario, format(round(media_dia_2015$umidade, 2), nsmall = 2), format(round(media_dia_2018$umidade, 2), nsmall = 2))
colnames(tabelaUmidade) <- c("Data", "Umidade.2015", "Umidade.2018")
write.xlsx(tabelaUmidade,file="tabelaUmidade2015_2018.xlsx")
tabelaUmidade
knitr::opts_chunk$set(eval = TRUE, message = FALSE, warning = FALSE,
fig.height = 3.5, fig.width = 6)
data("PlantGrowth")
library(tidyverse)
PlantGrowth %>% group_by(group) %>% summarise(mediana = median(weight))
summary(PlantGrowth)
library(tidyverse)
meu_tema = theme_bw() +
theme(plot.title = element_text(hjust = 0.5, size = 13),
axis.title = element_text(hjust = 0.5, size = 11),
axis.text = element_text(size = 10))
PlantGrowth %>% ggplot(aes(x = group, y = weight, fill = group)) + geom_boxplot(show.legend = FALSE, fill = c("tomato", "tomato3", "tomato4")) + meu_tema + labs(title = "Boxplot do peso por grupo", y = "Peso", x = "Grupo")
#g1 <-  PlantGrowth %>% filter(group == "trt1")
#min.max(g1$weight) #grupo trt1
#g2 <-  PlantGrowth %>% filter(group == "ctrl")
#min.max(g1$weight) #grupo ctrl
#g3 <-  PlantGrowth %>% filter(group == "trt2")
#min.max(g1$weight) #grupo trt2
library(dslabs)
knitr::opts_chunk$set(eval = TRUE, message = FALSE, warning = FALSE,
fig.height = 3.5, fig.width = 6)
rm(list=ls())
knitr::opts_chunk$set(echo = TRUE)
summary(cars)
plot(pressure)
